import{a9 as R,R as L,aa as ie,ab as yt,ac as $e,M as z,ad as Ue,ae as xt,af as At,ag as bt,ah as St,ai as W,aj as Ct,ak as Mt,w as E,al as Lt,am as je,an as H,ao as ce,ap as qe,aq as wt,ar as Dt,as as _t,a2 as pe,a0 as O,at as me,au as Y,h as V,a7 as he,a6 as It,_ as I,S as Ke,av as Tt,P as Qe,aw as ye,y as kt,q as Et,g as G,s as Pt,Q as Ot,ax as xe,G as Je,o as ve,K as Rt,k as fe,ay as Bt,j as Nt,m as Vt,a4 as Gt,t as Ft,I as zt,az as Wt,aA as Ht,aB as Yt,aC as et,aD as Zt,aE as B,F as U,aF as Xt,aG as $t,aH as Ut,aI as jt,aJ as qt,aK as Ae,aL as be,aM as Kt,aN as Qt,aO as J,aP as Jt,aQ as er,v as tr,aR as ee,aS as rr,aT as Se,aU as Ce,aV as ar,aW as nr,aX as ir,aY as oe,aZ as Me,a_ as or,a$ as sr,b0 as lr,b1 as ur,$ as Le,b2 as we,b3 as cr,u as De,b4 as hr}from"./index.esm.min-d531ee05.js";var vr=function(){function r(e){this.coordSysDims=[],this.axisMap=ie(),this.categoryAxisMap=ie(),this.coordSysName=e}return r}();function fr(r){var e=r.get("coordinateSystem"),t=new vr(e),a=gr[e];if(a)return a(r,t,t.axisMap,t.categoryAxisMap),t}var gr={cartesian2d:function(r,e,t,a){var n=r.getReferringComponents("xAxis",R).models[0],i=r.getReferringComponents("yAxis",R).models[0];e.coordSysDims=["x","y"],t.set("x",n),t.set("y",i),N(n)&&(a.set("x",n),e.firstCategoryDimIndex=0),N(i)&&(a.set("y",i),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(r,e,t,a){var n=r.getReferringComponents("singleAxis",R).models[0];e.coordSysDims=["single"],t.set("single",n),N(n)&&(a.set("single",n),e.firstCategoryDimIndex=0)},polar:function(r,e,t,a){var n=r.getReferringComponents("polar",R).models[0],i=n.findAxisModel("radiusAxis"),o=n.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",i),t.set("angle",o),N(i)&&(a.set("radius",i),e.firstCategoryDimIndex=0),N(o)&&(a.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(r,e,t,a){e.coordSysDims=["lng","lat"]},parallel:function(r,e,t,a){var n=r.ecModel,i=n.getComponent("parallel",r.get("parallelIndex")),o=e.coordSysDims=i.dimensions.slice();L(i.parallelAxisIndex,function(s,u){var l=n.getComponent("parallelAxis",s),c=o[u];t.set(c,l),N(l)&&(a.set(c,l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function N(r){return r.get("type")==="category"}function dr(r,e){var t=r.get("coordinateSystem"),a=Mt.get(t),n;return e&&e.coordSysDims&&(n=E(e.coordSysDims,function(i){var o={name:i},s=e.axisMap.get(i);if(s){var u=s.get("type");o.type=Lt(u)}return o})),n||(n=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),n}function pr(r,e,t){var a,n;return t&&L(r,function(i,o){var s=i.coordDim,u=t.categoryAxisMap.get(s);u&&(a==null&&(a=o),i.ordinalMeta=u.getOrdinalMeta(),e&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(n=!0)}),!n&&a!=null&&(r[a].otherDims.itemName=0),a}function tt(r,e,t){t=t||{};var a=e.getSourceManager(),n,i=!1;r?(i=!0,n=yt(r)):(n=a.getSource(),i=n.sourceFormat===$e);var o=fr(e),s=dr(e,o),u=t.useEncodeDefaulter,l=z(u)?u:u?Ue(xt,s,e):null,c={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!i},h=At(n,c),g=pr(h.dimensions,t.createInvertedIndices,o),f=i?null:a.getSharedDataStore(h),v=bt(e,{schema:h,store:f}),d=new St(h,e);d.setCalculationInfo(v);var p=g!=null&&mr(n)?function(x,m,y,A){return A===g?y:this.defaultDimValueGetter(x,m,y,A)}:null;return d.hasItemOption=!1,d.initData(i?n:f,null,p),d}function mr(r){if(r.sourceFormat===$e){var e=yr(r.data||[]);return!W(Ct(e))}}function yr(r){for(var e=0;e<r.length&&r[e]==null;)e++;return r[e]}var xr=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r}(),F=je();function rt(r,e){var t=E(e,function(a){return r.scale.parse(a)});return r.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function Ar(r){var e=r.getLabelModel().get("customValues");if(e){var t=H(r),a=r.scale.getExtent(),n=rt(r,e),i=ce(n,function(o){return o>=a[0]&&o<=a[1]});return{labels:E(i,function(o){var s={value:o};return{formattedLabel:t(s),rawLabel:r.scale.getLabel(s),tickValue:o}})}}return r.type==="category"?Sr(r):Mr(r)}function br(r,e){var t=r.getTickModel().get("customValues");if(t){var a=r.scale.getExtent(),n=rt(r,t);return{ticks:ce(n,function(i){return i>=a[0]&&i<=a[1]})}}return r.type==="category"?Cr(r,e):{ticks:E(r.scale.getTicks(),function(i){return i.value})}}function Sr(r){var e=r.getLabelModel(),t=at(r,e);return!e.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function at(r,e){var t=nt(r,"labels"),a=qe(e),n=it(t,a);if(n)return n;var i,o;return z(a)?i=lt(r,a):(o=a==="auto"?Lr(r):a,i=st(r,o)),ot(t,a,{labels:i,labelCategoryInterval:o})}function Cr(r,e){var t=nt(r,"ticks"),a=qe(e),n=it(t,a);if(n)return n;var i,o;if((!e.get("show")||r.scale.isBlank())&&(i=[]),z(a))i=lt(r,a,!0);else if(a==="auto"){var s=at(r,r.getLabelModel());o=s.labelCategoryInterval,i=E(s.labels,function(u){return u.tickValue})}else o=a,i=st(r,o,!0);return ot(t,a,{ticks:i,tickCategoryInterval:o})}function Mr(r){var e=r.scale.getTicks(),t=H(r);return{labels:E(e,function(a,n){return{level:a.level,formattedLabel:t(a,n),rawLabel:r.scale.getLabel(a),tickValue:a.value}})}}function nt(r,e){return F(r)[e]||(F(r)[e]=[])}function it(r,e){for(var t=0;t<r.length;t++)if(r[t].key===e)return r[t].value}function ot(r,e,t){return r.push({key:e,value:t}),t}function Lr(r){var e=F(r).autoInterval;return e??(F(r).autoInterval=r.calculateCategoryInterval())}function wr(r){var e=Dr(r),t=H(r),a=(e.axisRotate-e.labelRotate)/180*Math.PI,n=r.scale,i=n.getExtent(),o=n.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=i[0],l=r.dataToCoord(u+1)-r.dataToCoord(u),c=Math.abs(l*Math.cos(a)),h=Math.abs(l*Math.sin(a)),g=0,f=0;u<=i[1];u+=s){var v=0,d=0,p=wt(t({value:u}),e.font,"center","top");v=p.width*1.3,d=p.height*1.3,g=Math.max(g,v,7),f=Math.max(f,d,7)}var x=g/c,m=f/h;isNaN(x)&&(x=1/0),isNaN(m)&&(m=1/0);var y=Math.max(0,Math.floor(Math.min(x,m))),A=F(r.model),b=r.getExtent(),S=A.lastAutoInterval,M=A.lastTickCount;return S!=null&&M!=null&&Math.abs(S-y)<=1&&Math.abs(M-o)<=1&&S>y&&A.axisExtent0===b[0]&&A.axisExtent1===b[1]?y=S:(A.lastTickCount=o,A.lastAutoInterval=y,A.axisExtent0=b[0],A.axisExtent1=b[1]),y}function Dr(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function st(r,e,t){var a=H(r),n=r.scale,i=n.getExtent(),o=r.getLabelModel(),s=[],u=Math.max((e||0)+1,1),l=i[0],c=n.count();l!==0&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var h=Dt(r),g=o.get("showMinLabel")||h,f=o.get("showMaxLabel")||h;g&&l!==i[0]&&d(i[0]);for(var v=l;v<=i[1];v+=u)d(v);f&&v-u!==i[1]&&d(i[1]);function d(p){var x={value:p};s.push(t?p:{formattedLabel:a(x),rawLabel:n.getLabel(x),tickValue:p})}return s}function lt(r,e,t){var a=r.scale,n=H(r),i=[];return L(a.getTicks(),function(o){var s=a.getLabel(o),u=o.value;e(o.value,s)&&i.push(t?u:{formattedLabel:n(o),rawLabel:s,tickValue:u})}),i}var _e=[0,1],_r=function(){function r(e,t,a){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=a||[0,0]}return r.prototype.contain=function(e){var t=this._extent,a=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]);return e>=a&&e<=n},r.prototype.containData=function(e){return this.scale.contain(e)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return _t(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var a=this._extent;a[0]=e,a[1]=t},r.prototype.dataToCoord=function(e,t){var a=this._extent,n=this.scale;return e=n.normalize(e),this.onBand&&n.type==="ordinal"&&(a=a.slice(),Ie(a,n.count())),pe(e,_e,a,t)},r.prototype.coordToData=function(e,t){var a=this._extent,n=this.scale;this.onBand&&n.type==="ordinal"&&(a=a.slice(),Ie(a,n.count()));var i=pe(e,a,_e,t);return this.scale.scale(i)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),a=br(this,t),n=a.ticks,i=E(n,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return Ir(this,i,o,e.clamp),i},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var a=this.scale.getMinorTicks(t),n=E(a,function(i){return E(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return n},r.prototype.getViewLabels=function(){return Ar(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),a=t[1]-t[0]+(this.onBand?1:0);a===0&&(a=1);var n=Math.abs(e[1]-e[0]);return Math.abs(n)/a},r.prototype.calculateCategoryInterval=function(){return wr(this)},r}();function Ie(r,e){var t=r[1]-r[0],a=e,n=t/a/2;r[0]+=n,r[1]-=n}function Ir(r,e,t,a){var n=e.length;if(!r.onBand||t||!n)return;var i=r.getExtent(),o,s;if(n===1)e[0].coord=i[0],o=e[1]={coord:i[1],tickValue:e[0].tickValue};else{var u=e[n-1].tickValue-e[0].tickValue,l=(e[n-1].coord-e[0].coord)/u;L(e,function(f){f.coord-=l/2});var c=r.scale.getExtent();s=1+c[1]-e[n-1].tickValue,o={coord:e[n-1].coord+l*s,tickValue:c[1]+1},e.push(o)}var h=i[0]>i[1];g(e[0].coord,i[0])&&(a?e[0].coord=i[0]:e.shift()),a&&g(i[0],e[0].coord)&&e.unshift({coord:i[0]}),g(i[1],o.coord)&&(a?o.coord=i[1]:e.pop()),a&&g(o.coord,i[1])&&e.push({coord:i[1]});function g(f,v){return f=O(f),v=O(v),h?f>v:f<v}}const Tr=_r;function kr(r,e){var t=r.mapDimensionsAll("defaultedLabel"),a=t.length;if(a===1){var n=me(r,e,t[0]);return n!=null?n+"":null}else if(a){for(var i=[],o=0;o<t.length;o++)i.push(me(r,e,t[o]));return i.join(" ")}}function Er(r,e){var t=r.mapDimensionsAll("defaultedLabel");if(!W(e))return e+"";for(var a=[],n=0;n<t.length;n++){var i=r.getDimensionIndex(t[n]);i>=0&&a.push(e[i])}return a.join(" ")}function Pr(r,e,t,a,n){var i=r.getArea(),o=i.x,s=i.y,u=i.width,l=i.height,c=t.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,u+=c,l+=c,u=Math.ceil(u),o!==Math.floor(o)&&(o=Math.floor(o),u++);var h=new Y({shape:{x:o,y:s,width:u,height:l}});if(e){var g=r.getBaseAxis(),f=g.isHorizontal(),v=g.inverse;f?(v&&(h.shape.x+=u),h.shape.width=0):(v||(h.shape.y+=l),h.shape.height=0);var d=z(n)?function(p){n(p,h)}:null;V(h,{shape:{width:u,height:l,x:o,y:s}},t,null,a,d)}return h}function Or(r,e,t){var a=r.getArea(),n=O(a.r0,1),i=O(a.r,1),o=new he({shape:{cx:O(r.cx,1),cy:O(r.cy,1),r0:n,r:i,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(e){var s=r.getBaseAxis().dim==="angle";s?o.shape.endAngle=a.startAngle:o.shape.r=n,V(o,{shape:{endAngle:a.endAngle,r:i}},t)}return o}function Rr(r,e,t,a,n){if(r){if(r.type==="polar")return Or(r,e,t);if(r.type==="cartesian2d")return Pr(r,e,t,a,n)}else return null;return null}function ut(r,e){return r.type===e}var Br={average:function(r){for(var e=0,t=0,a=0;a<r.length;a++)isNaN(r[a])||(e+=r[a],t++);return t===0?NaN:e/t},sum:function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t]||0;return e},max:function(r){for(var e=-1/0,t=0;t<r.length;t++)r[t]>e&&(e=r[t]);return isFinite(e)?e:NaN},min:function(r){for(var e=1/0,t=0;t<r.length;t++)r[t]<e&&(e=r[t]);return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},Nr=function(r){return Math.round(r.length/2)};function Vr(r){return{seriesType:r,reset:function(e,t,a){var n=e.getData(),i=e.get("sampling"),o=e.coordinateSystem,s=n.count();if(s>10&&o.type==="cartesian2d"&&i){var u=o.getBaseAxis(),l=o.getOtherAxis(u),c=u.getExtent(),h=a.getDevicePixelRatio(),g=Math.abs(c[1]-c[0])*(h||1),f=Math.round(s/g);if(isFinite(f)&&f>1){i==="lttb"?e.setData(n.lttbDownSample(n.mapDimension(l.dim),1/f)):i==="minmax"&&e.setData(n.minmaxDownSample(n.mapDimension(l.dim),1/f));var v=void 0;It(i)?v=Br[i]:z(i)&&(v=i),v&&e.setData(n.downSample(n.mapDimension(l.dim),1/f,v,Nr))}}}}}var ct=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,a){return tt(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,a,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(t),s=i.dataToPoint(o);if(n)L(i.getAxes(),function(g,f){if(g.type==="category"&&a!=null){var v=g.getTicksCoords(),d=g.getTickModel().get("alignWithLabel"),p=o[f],x=a[f]==="x1"||a[f]==="y1";if(x&&!d&&(p+=1),v.length<2)return;if(v.length===2){s[f]=g.toGlobalCoord(g.getExtent()[x?1:0]);return}for(var m=void 0,y=void 0,A=1,b=0;b<v.length;b++){var S=v[b].coord,M=b===v.length-1?v[b-1].tickValue+A:v[b].tickValue;if(M===p){y=S;break}else if(M<p)m=S;else if(m!=null&&M>p){y=(S+m)/2;break}b===1&&(A=M-v[0].tickValue)}y==null&&(m?m&&(y=v[v.length-1].coord):y=v[0].coord),s[f]=g.toGlobalCoord(y)}});else{var u=this.getData(),l=u.getLayout("offset"),c=u.getLayout("size"),h=i.getBaseAxis().isHorizontal()?0:1;s[h]+=l+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Ke);Ke.registerClass(ct);const Te=ct;var Gr=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return tt(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>t&&(t=a),t},e.prototype.brushSelector=function(t,a,n){return n.rect(a.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Tt(Te.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Te);const Fr=Gr;var zr=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Wr=function(r){I(e,r);function e(t){var a=r.call(this,t)||this;return a.type="sausage",a}return e.prototype.getDefaultShape=function(){return new zr},e.prototype.buildPath=function(t,a){var n=a.cx,i=a.cy,o=Math.max(a.r0||0,0),s=Math.max(a.r,0),u=(s-o)*.5,l=o+u,c=a.startAngle,h=a.endAngle,g=a.clockwise,f=Math.PI*2,v=g?h-c<f:c-h<f;v||(c=h-(g?f:-f));var d=Math.cos(c),p=Math.sin(c),x=Math.cos(h),m=Math.sin(h);v?(t.moveTo(d*o+n,p*o+i),t.arc(d*l+n,p*l+i,u,-Math.PI+c,c,!g)):t.moveTo(d*s+n,p*s+i),t.arc(n,i,s,c,h,!g),t.arc(x*l+n,m*l+i,u,h-Math.PI*2,h-Math.PI,!g),o!==0&&t.arc(n,i,o,h,c,g)},e}(Qe);const ke=Wr;function Hr(r,e){e=e||{};var t=e.isRoundCap;return function(a,n,i){var o=n.position;if(!o||o instanceof Array)return ye(a,n,i);var s=r(o),u=n.distance!=null?n.distance:5,l=this.shape,c=l.cx,h=l.cy,g=l.r,f=l.r0,v=(g+f)/2,d=l.startAngle,p=l.endAngle,x=(d+p)/2,m=t?Math.abs(g-f)/2:0,y=Math.cos,A=Math.sin,b=c+g*y(d),S=h+g*A(d),M="left",T="top";switch(s){case"startArc":b=c+(f-u)*y(x),S=h+(f-u)*A(x),M="center",T="top";break;case"insideStartArc":b=c+(f+u)*y(x),S=h+(f+u)*A(x),M="center",T="bottom";break;case"startAngle":b=c+v*y(d)+Z(d,u+m,!1),S=h+v*A(d)+X(d,u+m,!1),M="right",T="middle";break;case"insideStartAngle":b=c+v*y(d)+Z(d,-u+m,!1),S=h+v*A(d)+X(d,-u+m,!1),M="left",T="middle";break;case"middle":b=c+v*y(x),S=h+v*A(x),M="center",T="middle";break;case"endArc":b=c+(g+u)*y(x),S=h+(g+u)*A(x),M="center",T="bottom";break;case"insideEndArc":b=c+(g-u)*y(x),S=h+(g-u)*A(x),M="center",T="top";break;case"endAngle":b=c+v*y(p)+Z(p,u+m,!0),S=h+v*A(p)+X(p,u+m,!0),M="left",T="middle";break;case"insideEndAngle":b=c+v*y(p)+Z(p,-u+m,!0),S=h+v*A(p)+X(p,-u+m,!0),M="right",T="middle";break;default:return ye(a,n,i)}return a=a||{},a.x=b,a.y=S,a.align=M,a.verticalAlign=T,a}}function Yr(r,e,t,a){if(kt(a)){r.setTextConfig({rotation:a});return}else if(W(e)){r.setTextConfig({rotation:0});return}var n=r.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,s=(i+o)/2,u,l=t(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=i;break;case"endAngle":case"insideEndAngle":u=o;break;default:r.setTextConfig({rotation:0});return}var c=Math.PI*1.5-u;l==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),r.setTextConfig({rotation:c})}function Z(r,e,t){return e*Math.sin(r)*(t?-1:1)}function X(r,e,t){return e*Math.cos(r)*(t?1:-1)}var te=Math.max,re=Math.min;function Zr(r,e){var t=r.getArea&&r.getArea();if(ut(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var n=e.getLayout("bandWidth");a.isHorizontal()?(t.x-=n,t.width+=n*2):(t.y-=n,t.height+=n*2)}}return t}var Xr=function(r){I(e,r);function e(){var t=r.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,a,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var o=t.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,a,n):this._renderNormal(t,a,n,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,a){this._progressiveEls=[],this._incrementalRenderLarge(t,a)},e.prototype.eachRendered=function(t){Et(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var a=t.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},e.prototype._renderNormal=function(t,a,n,i){var o=this.group,s=t.getData(),u=this._data,l=t.coordinateSystem,c=l.getBaseAxis(),h;l.type==="cartesian2d"?h=c.isHorizontal():l.type==="polar"&&(h=c.dim==="angle");var g=t.isAnimationEnabled()?t:null,f=$r(t,l);f&&this._enableRealtimeSort(f,s,n);var v=t.get("clip",!0)||f,d=Zr(l,s);o.removeClipPath();var p=t.get("roundCap",!0),x=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),y=m.get("borderRadius")||0,A=[],b=this._backgroundEls,S=i&&i.isInitSort,M=i&&i.type==="changeAxisOrder";function T(C){var k=$[l.type](s,C),w=ea(l,h,k);return w.useStyle(m.getItemStyle()),l.type==="cartesian2d"?w.setShape("r",y):w.setShape("cornerRadius",y),A[C]=w,w}s.diff(u).add(function(C){var k=s.getItemModel(C),w=$[l.type](s,C,k);if(x&&T(C),!(!s.hasValue(C)||!Be[l.type](w))){var P=!1;v&&(P=Ee[l.type](d,w));var D=Pe[l.type](t,s,C,w,h,g,c.model,!1,p);f&&(D.forceLabelAnimation=!0),Ne(D,s,C,k,w,t,h,l.type==="polar"),S?D.attr({shape:w}):f?Oe(f,g,D,w,C,h,!1,!1):V(D,{shape:w},t,C),s.setItemGraphicEl(C,D),o.add(D),D.ignore=P}}).update(function(C,k){var w=s.getItemModel(C),P=$[l.type](s,C,w);if(x){var D=void 0;b.length===0?D=T(k):(D=b[k],D.useStyle(m.getItemStyle()),l.type==="cartesian2d"?D.setShape("r",y):D.setShape("cornerRadius",y),A[C]=D);var pt=$[l.type](s,C),mt=vt(h,pt,l);G(D,{shape:mt},g,C)}var _=u.getItemGraphicEl(k);if(!s.hasValue(C)||!Be[l.type](P)){o.remove(_);return}var K=!1;if(v&&(K=Ee[l.type](d,P),K&&o.remove(_)),_?Pt(_):_=Pe[l.type](t,s,C,P,h,g,c.model,!!_,p),f&&(_.forceLabelAnimation=!0),M){var de=_.getTextContent();if(de){var Q=Ot(de);Q.prevValue!=null&&(Q.prevValue=Q.value)}}else Ne(_,s,C,w,P,t,h,l.type==="polar");S?_.attr({shape:P}):f?Oe(f,g,_,P,C,h,!0,M):G(_,{shape:P},t,C,null),s.setItemGraphicEl(C,_),_.ignore=K,o.add(_)}).remove(function(C){var k=u.getItemGraphicEl(C);k&&xe(k,t,C)}).execute();var j=this._backgroundGroup||(this._backgroundGroup=new Je);j.removeAll();for(var q=0;q<A.length;++q)j.add(A[q]);o.add(j),this._backgroundEls=A,this._data=s},e.prototype._renderLarge=function(t,a,n){this._clear(),Ge(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,a){this._removeBackground(),Ge(a,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var a=t.get("clip",!0)&&Rr(t.coordinateSystem,!1,t),n=this.group;a?n.setClipPath(a):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,a,n){var i=this;if(a.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,t,n),this._isFirstFrame=!1;else{var s=function(u){var l=a.getItemGraphicEl(u),c=l&&l.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(a,s,o,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,a,n){var i=[];return t.each(t.mapDimension(a.dim),function(o,s){var u=n(s);u=u??NaN,i.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:E(i,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,a,n){for(var i=n.scale,o=t.mapDimension(n.dim),s=Number.MAX_VALUE,u=0,l=i.getOrdinalMeta().categories.length;u<l;++u){var c=t.rawIndexOf(o,i.getRawOrdinalNumber(u)),h=c<0?Number.MIN_VALUE:a(t.indexOfRawIndex(c));if(h>s)return!0;s=h}return!1},e.prototype._isOrderDifferentInView=function(t,a){for(var n=a.scale,i=n.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,a,n,i){if(this._isOrderChangedWithinSameData(t,a,n)){var o=this._dataSort(t,n,a);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,a,n){var i=a.baseAxis,o=this._dataSort(t,i,function(s){return t.get(t.mapDimension(a.otherAxis.dim),s)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},e.prototype.remove=function(t,a){this._clear(this._model),this._removeOnRenderedListener(a)},e.prototype.dispose=function(t,a){this._removeOnRenderedListener(a)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var a=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){xe(i,t,ve(i).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Rt),Ee={cartesian2d:function(r,e){var t=e.width<0?-1:1,a=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),a<0&&(e.y+=e.height,e.height=-e.height);var n=r.x+r.width,i=r.y+r.height,o=te(e.x,r.x),s=re(e.x+e.width,n),u=te(e.y,r.y),l=re(e.y+e.height,i),c=s<o,h=l<u;return e.x=c&&o>n?s:o,e.y=h&&u>i?l:u,e.width=c?0:s-o,e.height=h?0:l-u,t<0&&(e.x+=e.width,e.width=-e.width),a<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(r,e){var t=e.r0<=e.r?1:-1;if(t<0){var a=e.r;e.r=e.r0,e.r0=a}var n=re(e.r,r.r),i=te(e.r0,r.r0);e.r=n,e.r0=i;var o=n-i<0;if(t<0){var a=e.r;e.r=e.r0,e.r0=a}return o}},Pe={cartesian2d:function(r,e,t,a,n,i,o,s,u){var l=new Y({shape:fe({},a),z2:1});if(l.__dataIndex=t,l.name="item",i){var c=l.shape,h=n?"height":"width";c[h]=0}return l},polar:function(r,e,t,a,n,i,o,s,u){var l=!n&&u?ke:he,c=new l({shape:a,z2:1});c.name="item";var h=ht(n);if(c.calculateTextPosition=Hr(h,{isRoundCap:l===ke}),i){var g=c.shape,f=n?"r":"endAngle",v={};g[f]=n?a.r0:a.startAngle,v[f]=a[f],(s?G:V)(c,{shape:v},i)}return c}};function $r(r,e){var t=r.get("realtimeSort",!0),a=e.getBaseAxis();if(t&&a.type==="category"&&e.type==="cartesian2d")return{baseAxis:a,otherAxis:e.getOtherAxis(a)}}function Oe(r,e,t,a,n,i,o,s){var u,l;i?(l={x:a.x,width:a.width},u={y:a.y,height:a.height}):(l={y:a.y,height:a.height},u={x:a.x,width:a.width}),s||(o?G:V)(t,{shape:u},e,n,null);var c=e?r.baseAxis.model:null;(o?G:V)(t,{shape:l},c,n)}function Re(r,e){for(var t=0;t<e.length;t++)if(!isFinite(r[e[t]]))return!0;return!1}var Ur=["x","y","width","height"],jr=["cx","cy","r","startAngle","endAngle"],Be={cartesian2d:function(r){return!Re(r,Ur)},polar:function(r){return!Re(r,jr)}},$={cartesian2d:function(r,e,t){var a=r.getItemLayout(e),n=t?Kr(t,a):0,i=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+i*n/2,y:a.y+o*n/2,width:a.width-i*n,height:a.height-o*n}},polar:function(r,e,t){var a=r.getItemLayout(e);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function qr(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function ht(r){return function(e){var t=e?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+t;default:return a}}}(r)}function Ne(r,e,t,a,n,i,o,s){var u=e.getItemVisual(t,"style");if(s){if(!i.get("roundCap")){var c=r.shape,h=Bt(a.getModel("itemStyle"),c,!0);fe(c,h),r.setShape(c)}}else{var l=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",l)}r.useStyle(u);var g=a.getShallow("cursor");g&&r.attr("cursor",g);var f=s?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",v=Nt(a);Vt(r,v,{labelFetcher:i,labelDataIndex:t,defaultText:kr(i.getData(),t),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:f});var d=r.getTextContent();if(s&&d){var p=a.get(["label","position"]);r.textConfig.inside=p==="middle"?!0:null,Yr(r,p==="outside"?f:p,ht(o),a.get(["label","rotate"]))}Gt(d,v,i.getRawValue(t),function(m){return Er(e,m)});var x=a.getModel(["emphasis"]);Ft(r,x.get("focus"),x.get("blurScope"),x.get("disabled")),zt(r,a),qr(n)&&(r.style.fill="none",r.style.stroke="none",L(r.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function Kr(r,e){var t=r.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,n=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(a,n,i)}var Qr=function(){function r(){}return r}(),Ve=function(r){I(e,r);function e(t){var a=r.call(this,t)||this;return a.type="largeBar",a}return e.prototype.getDefaultShape=function(){return new Qr},e.prototype.buildPath=function(t,a){for(var n=a.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],l=this.barWidth,c=0;c<n.length;c+=3)u[i]=l,u[o]=n[c+2],s[i]=n[c+i],s[o]=n[c+o],t.rect(s[0],s[1],u[0],u[1])},e}(Qe);function Ge(r,e,t,a){var n=r.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),s=n.getLayout("size"),u=r.getModel("backgroundStyle"),l=n.getLayout("largeBackgroundPoints");if(l){var c=new Ve({shape:{points:l},incremental:!!a,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(u.getItemStyle()),e.add(c),t&&t.push(c)}var h=new Ve({shape:{points:n.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=i,h.largeDataIndices=o,h.barWidth=s,e.add(h),h.useStyle(n.getVisual("style")),h.style.stroke=null,ve(h).seriesIndex=r.seriesIndex,r.get("silent")||(h.on("mousedown",Fe),h.on("mousemove",Fe)),t&&t.push(h)}var Fe=Wt(function(r){var e=this,t=Jr(e,r.offsetX,r.offsetY);ve(e).dataIndex=t>=0?t:null},30,!1);function Jr(r,e,t){for(var a=r.baseDimIdx,n=1-a,i=r.shape.points,o=r.largeDataIndices,s=[],u=[],l=r.barWidth,c=0,h=i.length/3;c<h;c++){var g=c*3;if(u[a]=l,u[n]=i[g+2],s[a]=i[g+a],s[n]=i[g+n],u[n]<0&&(s[n]+=u[n],u[n]=-u[n]),e>=s[0]&&e<=s[0]+u[0]&&t>=s[1]&&t<=s[1]+u[1])return o[c]}return-1}function vt(r,e,t){if(ut(t,"cartesian2d")){var a=e,n=t.getArea();return{x:r?a.x:n.x,y:r?n.y:a.y,width:r?a.width:n.width,height:r?n.height:a.height}}else{var n=t.getArea(),i=e;return{cx:n.cx,cy:n.cy,r0:r?n.r0:i.r0,r:r?n.r:i.r,startAngle:r?i.startAngle:0,endAngle:r?i.endAngle:Math.PI*2}}}function ea(r,e,t){var a=r.type==="polar"?he:Y;return new a({shape:vt(e,t,r),silent:!0,z2:0})}const ta=Xr;function Da(r){r.registerChartView(ta),r.registerSeriesModel(Fr),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,Ue(Yt,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ht("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Vr("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var a=e.componentType||"series";t.eachComponent({mainType:a,query:e},function(n){e.sortInfo&&n.axis.setCategorySortInfo(e.sortInfo)})})}var ra=function(r){I(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(et);const aa=ra;var se=function(r){I(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",R).models[0]},e.type="cartesian2dAxis",e}(et);Zt(se,xr);var ft={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},na=B({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},ft),ge=B({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},ft),ia=B({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ge),oa=U({logBase:10},ge);const sa={category:na,value:ge,time:ia,log:oa};var la={value:1,category:1,time:1,log:1};function ze(r,e,t,a){L(la,function(n,i){var o=B(B({},sa[i],!0),a,!0),s=function(u){I(l,u);function l(){var c=u!==null&&u.apply(this,arguments)||this;return c.type=e+"Axis."+i,c}return l.prototype.mergeDefaultAndTheme=function(c,h){var g=Xt(this),f=g?$t(c):{},v=h.getTheme();B(c,v.get(i+"Axis")),B(c,this.getDefaultOption()),c.type=We(c),g&&Ut(c,f,g)},l.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=jt.createByAxisModel(this))},l.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+i,l.defaultOption=o,l}(t);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(e+"Axis",We)}function We(r){return r.type||(r.data?"category":"value")}var ua=function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return E(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),ce(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r}();const ca=ua;var le=["x","y"];function He(r){return r.type==="interval"||r.type==="time"}var ha=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=le,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!He(t)||!He(a))){var n=t.getExtent(),i=a.getExtent(),o=this.dataToPoint([n[0],i[0]]),s=this.dataToPoint([n[1],i[1]]),u=n[1]-n[0],l=i[1]-i[0];if(!(!u||!l)){var c=(s[0]-o[0])/u,h=(s[1]-o[1])/l,g=o[0]-n[0]*c,f=o[1]-i[0]*h,v=this._transform=[c,0,0,h,g,f];this._invTransform=qt([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var a=this.getAxis("x"),n=this.getAxis("y");return a.contain(a.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,a){var n=this.dataToPoint(t),i=this.dataToPoint(a),o=this.getArea(),s=new Ae(n[0],n[1],i[0]-n[0],i[1]-n[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,a,n){n=n||[];var i=t[0],o=t[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return be(n,t,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return n[0]=s.toGlobalCoord(s.dataToCoord(i,a)),n[1]=u.toGlobalCoord(u.dataToCoord(o,a)),n},e.prototype.clampData=function(t,a){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),s=i.getExtent(),u=n.parse(t[0]),l=i.parse(t[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),a},e.prototype.pointToData=function(t,a){var n=[];if(this._invTransform)return be(n,t,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(t[0]),a),n[1]=o.coordToData(o.toLocalCoord(t[1]),a),n},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var a=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(a[0],a[1])-t,o=Math.min(n[0],n[1])-t,s=Math.max(a[0],a[1])-i+t,u=Math.max(n[0],n[1])-o+t;return new Ae(i,o,s,u)},e}(ca),va=function(r){I(e,r);function e(t,a,n,i,o){var s=r.call(this,t,a,n)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),t&&a[0]>a[1]&&a.reverse(),a},e.prototype.pointToData=function(t,a){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),a)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Tr);const fa=va;var ae=Math.log;function ga(r,e,t){var a=Kt.prototype,n=a.getTicks.call(t),i=a.getTicks.call(t,!0),o=n.length-1,s=a.getInterval.call(t),u=Qt(r,e),l=u.extent,c=u.fixMin,h=u.fixMax;if(r.type==="log"){var g=ae(r.base);l=[ae(l[0])/g,ae(l[1])/g]}r.setExtent(l[0],l[1]),r.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:h});var f=a.getExtent.call(r);c&&(l[0]=f[0]),h&&(l[1]=f[1]);var v=a.getInterval.call(r),d=l[0],p=l[1];if(c&&h)v=(p-d)/o;else if(c)for(p=l[0]+v*o;p<l[1]&&isFinite(p)&&isFinite(l[1]);)v=J(v),p=l[0]+v*o;else if(h)for(d=l[1]-v*o;d>l[0]&&isFinite(d)&&isFinite(l[0]);)v=J(v),d=l[1]-v*o;else{var x=r.getTicks().length-1;x>o&&(v=J(v));var m=v*o;p=Math.ceil(l[1]/v)*v,d=O(p-m),d<0&&l[0]>=0?(d=0,p=O(m)):p>0&&l[1]<=0&&(p=0,d=-O(m))}var y=(n[0].value-i[0].value)/s,A=(n[o].value-i[o].value)/s;a.setExtent.call(r,d+v*y,p+v*A),a.setInterval.call(r,v),(y||A)&&a.setNiceExtent.call(r,d+v,p-v)}var da=function(){function r(e,t,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=le,this._initCartesian(e,t,a),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var a=this._axesMap;this._updateScale(e,this.model);function n(o){var s,u=ir(o),l=u.length;if(l){for(var c=[],h=l-1;h>=0;h--){var g=+u[h],f=o[g],v=f.model,d=f.scale;oe(d)&&v.get("alignTicks")&&v.get("interval")==null?c.push(f):(Me(d,v),oe(d)&&(s=f))}c.length&&(s||(s=c.pop(),Me(s.scale,s.model)),L(c,function(p){ga(p.scale,p.model,s.scale)}))}}n(a.x),n(a.y);var i={};L(a.x,function(o){Ye(a,"y",o,i)}),L(a.y,function(o){Ye(a,"x",o,i)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,a){var n=e.getBoxLayoutParams(),i=!a&&e.get("containLabel"),o=Jt(n,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;u(),i&&(L(s,function(l){if(!l.model.get(["axisLabel","inside"])){var c=er(l);if(c){var h=l.isHorizontal()?"height":"width",g=l.model.get(["axisLabel","margin"]);o[h]-=c[h]+g,l.position==="top"?o.y+=c.height+g:l.position==="left"&&(o.x+=c.width+g)}}}),u()),L(this._coordsList,function(l){l.calcAffineTransform()});function u(){L(s,function(l){var c=l.isHorizontal(),h=c?[0,o.width]:[0,o.height],g=l.inverse?1:0;l.setExtent(h[g],h[1-g]),pa(l,c?o.x:o.y)})}},r.prototype.getAxis=function(e,t){var a=this._axesMap[e];if(a!=null)return a[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var a="x"+e+"y"+t;return this._coordsMap[a]}tr(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===e||i[n].getAxis("y").index===t)return i[n]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,a){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.dataToPoint(a):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(a)):null},r.prototype.convertFromPixel=function(e,t,a){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.pointToData(a):n.axis?n.axis.coordToData(n.axis.toLocalCoord(a)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,a=e.xAxisModel||t&&t.getReferringComponents("xAxis",R).models[0],n=e.yAxisModel||t&&t.getReferringComponents("yAxis",R).models[0],i=e.gridModel,o=this._coordsList,s,u;if(t)s=t.coordinateSystem,ee(o,s)<0&&(s=null);else if(a&&n)s=this.getCartesian(a.componentIndex,n.componentIndex);else if(a)u=this.getAxis("x",a.componentIndex);else if(n)u=this.getAxis("y",n.componentIndex);else if(i){var l=i.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,a){var n=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,L(s.x,function(c,h){L(s.y,function(g,f){var v="x"+h+"y"+f,d=new ha(v);d.master=n,d.model=e,n._coordsMap[v]=d,n._coordsList.push(d),d.addAxis(c),d.addAxis(g)})});function l(c){return function(h,g){if(ne(h,e)){var f=h.get("position");c==="x"?f!=="top"&&f!=="bottom"&&(f=o.bottom?"top":"bottom"):f!=="left"&&f!=="right"&&(f=o.left?"right":"left"),o[f]=!0;var v=new fa(c,rr(h),[0,0],h.get("type"),f),d=v.type==="category";v.onBand=d&&h.get("boundaryGap"),v.inverse=h.get("inverse"),h.axis=v,v.model=h,v.grid=i,v.index=g,i._axesList.push(v),s[c][g]=v,u[c]++}}}},r.prototype._updateScale=function(e,t){L(this._axesList,function(n){if(n.scale.setExtent(1/0,-1/0),n.type==="category"){var i=n.model.get("categorySortInfo");n.scale.setSortInfo(i)}}),e.eachSeries(function(n){if(Se(n)){var i=Ce(n),o=i.xAxisModel,s=i.yAxisModel;if(!ne(o,t)||!ne(s,t))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=n.getData(),c=u.getAxis("x"),h=u.getAxis("y");a(l,c),a(l,h)}},this);function a(n,i){L(ar(n,i.dim),function(o){i.scale.unionExtentFromData(n,o)})}},r.prototype.getTooltipAxes=function(e){var t=[],a=[];return L(this.getCartesians(),function(n){var i=e!=null&&e!=="auto"?n.getAxis(e):n.getBaseAxis(),o=n.getOtherAxis(i);ee(t,i)<0&&t.push(i),ee(a,o)<0&&a.push(o)}),{baseAxes:t,otherAxes:a}},r.create=function(e,t){var a=[];return e.eachComponent("grid",function(n,i){var o=new r(n,e,t);o.name="grid_"+i,o.resize(n,t,!0),n.coordinateSystem=o,a.push(o)}),e.eachSeries(function(n){if(Se(n)){var i=Ce(n),o=i.xAxisModel,s=i.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;n.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),a},r.dimensions=le,r}();function ne(r,e){return r.getCoordSysModel()===e}function Ye(r,e,t,a){t.getAxesOnZeroOf=function(){return i?[i]:[]};var n=r[e],i,o=t.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)Ze(n[u])&&(i=n[u]);else for(var l in n)if(n.hasOwnProperty(l)&&Ze(n[l])&&!a[c(n[l])]){i=n[l];break}i&&(a[c(i)]=!0);function c(h){return h.dim+"_"+h.index}}function Ze(r){return r&&r.type!=="category"&&r.type!=="time"&&nr(r)}function pa(r,e){var t=r.getExtent(),a=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(n){return n+e}:function(n){return a-n+e},r.toLocalCoord=r.dim==="x"?function(n){return n-e}:function(n){return a-n+e}}const ma=da;var ue=je();function ya(r,e,t,a){var n=t.axis;if(!n.scale.isBlank()){var i=t.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),u=a.coordinateSystem.getRect(),l=n.getTicksCoords({tickModel:i,clamp:!0});if(l.length){var c=s.length,h=ue(r).splitAreaColors,g=ie(),f=0;if(h)for(var v=0;v<l.length;v++){var d=h.get(l[v].tickValue);if(d!=null){f=(d+(c-1)*v)%c;break}}var p=n.toGlobalCoord(l[0].coord),x=o.getAreaStyle();s=W(s)?s:[s];for(var v=1;v<l.length;v++){var m=n.toGlobalCoord(l[v].coord),y=void 0,A=void 0,b=void 0,S=void 0;n.isHorizontal()?(y=p,A=u.y,b=m-y,S=u.height,p=y+b):(y=u.x,A=p,b=u.width,S=m-A,p=A+S);var M=l[v-1].tickValue;M!=null&&g.set(M,f),e.add(new Y({anid:M!=null?"area_"+M:null,shape:{x:y,y:A,width:b,height:S},style:U({fill:s[f]},x),autoBatch:!0,silent:!0})),f=(f+1)%c}ue(r).splitAreaColors=g}}}function xa(r){ue(r).splitAreaColors=null}var Aa=["axisLine","axisTickLabel","axisName"],ba=["splitArea","splitLine","minorSplitLine"],gt=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,a,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Je,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),u=or(s,t),l=new sr(t,fe({handleAutoShown:function(h){for(var g=s.coordinateSystem.getCartesians(),f=0;f<g.length;f++)if(oe(g[f].getOtherAxis(t.axis).scale))return!0;return!1}},u));L(Aa,l.add,l),this._axisGroup.add(l.getGroup()),L(ba,function(h){t.get([h,"show"])&&Sa[h](this,this._axisGroup,t,s)},this);var c=i&&i.type==="changeAxisOrder"&&i.isInitSort;c||lr(o,this._axisGroup,t),r.prototype.render.call(this,t,a,n,i)}},e.prototype.remove=function(){xa(this)},e.type="cartesianAxis",e}(ur),Sa={splitLine:function(r,e,t,a){var n=t.axis;if(!n.scale.isBlank()){var i=t.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color"),u=i.get("showMinLine")!==!1,l=i.get("showMaxLine")!==!1;s=W(s)?s:[s];for(var c=a.coordinateSystem.getRect(),h=n.isHorizontal(),g=0,f=n.getTicksCoords({tickModel:i}),v=[],d=[],p=o.getLineStyle(),x=0;x<f.length;x++){var m=n.toGlobalCoord(f[x].coord);if(!(x===0&&!u||x===f.length-1&&!l)){var y=f[x].tickValue;h?(v[0]=m,v[1]=c.y,d[0]=m,d[1]=c.y+c.height):(v[0]=c.x,v[1]=m,d[0]=c.x+c.width,d[1]=m);var A=g++%s.length,b=new Le({anid:y!=null?"line_"+y:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:d[0],y2:d[1]},style:U({stroke:s[A]},p),silent:!0});we(b.shape,p.lineWidth),e.add(b)}}}},minorSplitLine:function(r,e,t,a){var n=t.axis,i=t.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=a.coordinateSystem.getRect(),u=n.isHorizontal(),l=n.getMinorTicksCoords();if(l.length)for(var c=[],h=[],g=o.getLineStyle(),f=0;f<l.length;f++)for(var v=0;v<l[f].length;v++){var d=n.toGlobalCoord(l[f][v].coord);u?(c[0]=d,c[1]=s.y,h[0]=d,h[1]=s.y+s.height):(c[0]=s.x,c[1]=d,h[0]=s.x+s.width,h[1]=d);var p=new Le({anid:"minor_line_"+l[f][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:g,silent:!0});we(p.shape,g.lineWidth),e.add(p)}},splitArea:function(r,e,t,a){ya(r,e,t,a)}},dt=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(gt),Ca=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=dt.type,t}return e.type="yAxis",e}(gt),Ma=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,a){this.group.removeAll(),t.get("show")&&this.group.add(new Y({shape:t.coordinateSystem.getRect(),style:U({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(cr),Xe={offset:0};function La(r){r.registerComponentView(Ma),r.registerComponentModel(aa),r.registerCoordinateSystem("cartesian2d",ma),ze(r,"x",se,Xe),ze(r,"y",se,Xe),r.registerComponentView(dt),r.registerComponentView(Ca),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function _a(r){De(La),De(hr)}export{ke as S,_a as a,Er as b,tt as c,ut as d,Pr as e,Or as f,kr as g,Vr as h,Da as i};
