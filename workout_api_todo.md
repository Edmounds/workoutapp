# 运动小程序API文档

## 已实现的API接口

### 用户管理
- `POST /api/users/register` - 用户注册
  - 功能：创建新用户账号
  - 参数：name, password, email(可选), gender(可选), age(可选), height(可选), weight(可选)

- `POST /api/users/login` - 用户登录
  - 功能：验证用户凭据并返回JWT令牌
  - 参数：name, password

- `GET /api/users/all/list` - 获取用户完整信息
  - 功能：获取当前用户的详细信息和运动统计数据
  - 需要授权

- `PUT /api/users/update` - 更新用户信息
  - 功能：更新用户的个人资料
  - 参数：gender(可选), age(可选), height(可选), weight(可选)
  - 需要授权

### 运动记录
- `GET /api/user/running_records` - 获取跑步记录
  - 功能：获取用户的跑步历史记录
  - 需要授权

- `POST /api/user/upload_workout` - 上传运动记录
  - 功能：提交新的运动记录，并更新用户的总体运动统计数据
  - 参数：workout_type, start_time, duration, distance, avg_pace, calories等
  - 需要授权

### 健康与体能
- `GET /api/physical/stats` - 获取体能数据
  - 功能：获取用户的体能状态和健康指标
  - 需要授权

- `GET /api/nutrition/tips` - 获取营养建议
  - 功能：提供营养相关的建议和提示
  - 按类别分组

- `GET /api/ai/advice` - 获取AI建议
  - 功能：获取针对用户的AI生成建议
  - 需要授权

### 系统
- `GET /health` - 健康检查
  - 功能：检查服务器是否正常运行

## 待办事项

1. **数据验证增强**
   - [ ] 为所有API添加更严格的输入验证
   - [ ] 实现请求速率限制防止滥用

2. **用户功能扩展**
   - [ ] 添加用户头像上传功能
   - [ ] 实现密码重置功能
   - [ ] 添加社交功能（好友、分享等）

3. **运动记录功能**
   - [ ] 支持GPS路径数据上传和显示
   - [ ] 添加运动记录编辑和删除功能
   - [ ] 实现运动记录批量导入/导出

4. **健康分析**
   - [ ] 开发更详细的健康趋势分析
   - [ ] 添加基于用户数据的个性化训练计划
   - [ ] 实现睡眠质量分析功能

5. **系统优化**
   - [ ] 优化数据库查询性能
   - [ ] 实现缓存机制减少数据库负载
   - [ ] 添加更详细的日志记录和监控

6. **安全性增强**
   - [ ] 实现更安全的令牌管理
   - [ ] 添加敏感操作的二次验证
   - [ ] 定期安全审计和漏洞扫描 